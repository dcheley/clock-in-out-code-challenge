<h1 class="header"><%= @user.name.titleize %>'s Profile</h1>

<!-- Put live clock here -->

<%= form_for([@user, @attendance]) do |f| %>
  <% if @attendance.errors.any? %>
    <div id="error_explanation">
      <h5><%= pluralize(@attendance.errors.count, "error") %> prohibited change!</h5>
      <ul>
        <% @attendance.errors.full_messages.each do |msg| %>
          <li><%= msg %></li>
        <% end %>
      </ul>
    </div>
  <% end %>

  <!-- Display clock in OR clock out button based on user's last time -->
  <% if @user.attendances.empty? %>
    <%= f.hidden_field :status, value: 1 %>
    <%= f.submit "Clock In", class: "btn btn-primary" %>
  <% elsif @user.attendances.last.status == 1 %>
    <%= f.hidden_field :status, value: 2 %>
    <%= f.submit "Clock Out", class: "btn btn-danger" %>
  <% else %>
    <p class="main-text">Time submitted, please contact Admin if data is incorrect</p>
  <% end %>
  <%= f.hidden_field :user_id, value: @user.id %>
<% end %>

<!-- Display user's attendance here -->
<h4 class="header" id="sub-header">Weekly Attendance</h4>
<div class="row">
  <div class="col-xs-2 col-sm-2 col-md-2 col-lg-2">
    <div class="full-width" style="margin-top: 25px;">
      <%= image_tag "blue-clock.svg", class:"clock-icon" %>
    </div>
    <div class="full-width">
      <%= image_tag "red-clock.svg", class:"clock-icon" %>
    </div>
  </div>
  <div class="col-xs-2 col-sm-2 col-md-2 col-lg-2">
    <p>Monday</p>
  </div>
  <div class="col-xs-2 col-sm-2 col-md-2 col-lg-2">
    <p>Tuesday</p>
  </div>
  <div class="col-xs-2 col-sm-2 col-md-2 col-lg-2">
    <p>Wednesday</p>
  </div>
  <div class="col-xs-2 col-sm-2 col-md-2 col-lg-2">
    <p>Thursday</p>
  </div>
  <div class="col-xs-2 col-sm-2 col-md-2 col-lg-2">
    <p>Friday</p>
  </div>
</div>
